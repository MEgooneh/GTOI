تعاریف
=============

تعریف گراف جهت دار
---------------------------
فرض کنید تعدادی شهر داریم که توسط جاده هایی به هم متصل هستند و شما در شهر گلابی هستید و می‌خواهید به شهر سیب بروید(شکل ۱).
برای رسیدن به شهر گلابی باید از تعدادی جاده عبور کنیم ولی از آنجا که جاده‌ها می‌توانند یک‌طرفه باشند, به گرافی نیاز داریم که جهت هر جاده را به ما نشان دهد که به آن گراف جهت دار گوییم(شکل ۲).

.. figure:: /_static/undirected_city.png
   :width: 50%
   :align: center
   :alt: اگه اینترنت یارو آشغال باشه این میاد

.. figure:: /_static/directed_city.png
   :width: 50%
   :align: center
   :alt: اگه اینترنت یارو آشغال باشه این میاد

به بیان دقیق تر, گراف جهت دار 
:math:`G`
یک زوج مرتب
:math:`\{V, E\}`
است که :math:`V` مجموعه راس های گراف است. همچنین :math:`E` یک مجموعه شامل زوج مرتب 
:math:`\{u, v\}`
است به این معنا که یک یال جهت دار از 
:math:`u`
به 
:math:`v`
در گراف وجود دارد.

به گراف جهت دار 
:math:`G`
ساده می‌گوییم اگر شامل یال های جهت دار چند گانه و طوقه نباشد. البته توجه داشته باشید که ممکن است 
:math:`G`
ساده باشد و :math:`E` شامل 
:math:`\{u, v\}`
و
:math:`\{v, u\}`
باشد, ولی نمی‌تواند ۲ تاز از زوج مرتب 
:math:`\{u, v\}`
را داشته باشد.

توجه داشته باشید که از این به بعد ما با گراف های جهت دار ساده کار خواهیم داشت و منظور ما از گراف جهت دار گراف جهت دار ساده خواهد بود, مگر اینکه در صورت سوال ذکر شود.

درجه در گراف جهت دار
--------------------------------
در یک گراف جهت دار, هر راس یک درجه ورودی و یک درجه خروجی دارد. برای مثال در شکل۲, درجه ورودی راس سیب برابر با ۳ و درجه خروجی آن برابر با ۱ است!
درجه ورودی راس :math:`v` را با نماد :
:math:`d^{−}(v)`
یا
:math:`deg^{−}(v)`
و درجه خروجی را با :
:math:`d^{+}(v)`
یا
:math:`deg^{+}(v)`
نمایش می‌دهیم.


دور و مسیر در گراف جهت دار 
--------------------------------
مشابه گراف های ساده, در گراف های جهت دار هم تعاریفی مانند دور و مسیر داریم. 
برای مثال در شکل۲, یک مسیر جهت دار می‌تواند مسیری به شکل : {گلابی, خیار, پرتقال, سیب}
باشد که راس شروع همان مبدا سفر(سیب) و راس پایان همان مقصد سفر(گلابی) می‌باشد. دقت کنید در طی کردن یال ها, باید جهت یال رعایت شود. برای مثال هنگامی که در راس سیب هستیم, نمی‌توانیم به راس گلابی به صورت مستقیم برویم!


همچنین یک دور در شکل۲ می‌تواند به صورت : {سیب, خیار, پرتقال, سیب} باشد. بدیهتا در هنگام طی کردن دور, باید جهت یال ها رعایت شود.

به طور مشابه, طول یک مسیر و دور جهت دار همان تعداد یال ها است.


به بیان دقیق تر, دنباله :
:math:`v_{1}, v_{2}, ..., v_{n}`
یک مسیر در گراف جهت دار 
:math:`G`
است, اگر به ازای هر :
:math:`1 \leq i < n`
یال
:math:`\{v_{i}, v_{i+1}\}`
در :math:`G` باشد و همچنین همه :math:`v_{i}` ها متمایز باشند. 
طول این مسیر برابر با
:math:`n - 1`
است.

به طور مشابه دنباله :
:math:`v_{1}, v_{2}, ..., v_{n}, v_{1}`
یک دور جهت دار است, اگر به ازای هر :
:math:`1 \leq i \leq n`
یال
:math:`\{v_{i}, v_{i+1}\}`
در 
:math:`G`
باشد و همچنین همه 
:math:`v_i`
ها متمایز باشند(به جز
:math:`v_{1}`
که راس شروع است). 
طول این دور برابر با

:math:`n`
است.

قضایا و لم های مورد استفاده در این بخش 
--------------------------------------


**قضیه 3.1.1**
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**صورت قضیه :** در گراف جهت دار :math:`G`, داریم :
:math:`\sum d^{-}(v) = \sum d^{+}(v)`


**اثبات قضیه :** برهان این قضیه بسیار ساده است(این قضیه مشابه با زوج بودن مجموع درجات در گراف ساده است). هر یال از این گراف را که در نظر بگیرید, به راس شروع یک درجه خروجی اضافه می‌کند و به راس پایان یک درجه ورودی اضافه میکند. در نتیجه یک واحد به طرف راست تساوی و یک واحد به طرف چپ تساوی اضافه می‌شود!


**قضیه 3.1.2**
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**صورت قضیه :** اگر در گراف جهت دار :math:`G`, درجه خروجی(یا درجه ورودی) هر راس حداقل ۱ باشد, آنگاه این گراف حداقل یک دور جهت‌دار دارد.


**اثبات قضیه :** برهان این قضیه نیز ساده است(این قضیه مشابه با دور داشتن گراف ساده‌ای است که درجه هر راس آن حداقل ۲ است). بلند ترین مسیر گراف را در نظر بگیرید.

فرض کنید این بلند ترین مسیر به صورت :
:math:`v_1, v_2, ..., v_n`
باشد. طول این مسیر طبق تعاریف بالا برابر با‌ :
:math:`n-1`
است.

حال راس 
:math:`v_n`
را در نظر بگیرید. از آنجا که این راس حداقل یک درجه خروجی دارد, پس راسی مانند 
:math:`x`
وجود دارد به طوری که از
:math:`v_n`
به 
:math:`x`
یک یال جهت دار است. از طرفی راس
:math:`x`
نمی‌تواند خارج از مسیر بالا باشد. زیرا در اینصورت یک مسیر بلند تر به طول 
:math:`n`
در گراف به صورت : 
:math:`v_1, v_2, ..., v_n, x`
وجود دارد که این خلاف فرض است(زیرا ما بلند ترین مسیر را در نظر گرفتیم)!

پس راس
:math:`x`
یکی از راس های مسیر است. برای مثال فرض کنید : 
:math:`x = v_j`

حال یک دور در گراف پیدا کردیم :
:math:`v_{j}, v_{j+1}, ..., v_{n}, v_{j}`


**قضیه 3.1.3**
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

**صورت قضیه :** اگر در گراف جهت دار :math:`G`, درجه خروجی(یا درجه ورودی) هر راس حداقل :math:`k` باشد, آنگاه این گراف یک دور به طول حداقل :math:`k+1` دارد.


**اثبات قضیه :** این قضیه تعمیم قضیه 3.1.2 می‌باشد. اثبات این قضیه هم مشابه با قضیه 3.1.2 می‌باشد.

به طور مشابه بلند ترین مسیر در :math:`G` را در نظر بگیرید. فرض کنید دنباله ای به صورت : 
:math:`v_1, v_2, ..., v_n`
باشد.

حال ادعا میکنیم :
:math:`n > k`
(به عبارتی می‌گوییم طول بلند ترین مسیر حداقل برابر با :math:`k` است).

 برهان ادعا واضح است, زیرا اگر راس :math:`v_n` را در نظر بگیریم, حداقل به  :math:`k` راس دیگر یال دارد. که اگر یکی از این راس ها داخل این مسیر نباشد, آنگاه یک مسیر بلند تر پیدا کرده‌ایم که خلاف فرض است(دقیقا مشابه با اثبات قضیه 3.1.2)! پس این بلند ترین مسیر حداقل :math:`k+1` راس دارد(k تا از همسایه های :math:`v_n` و خود :math:`v_n`).
حال کم‌ترین :math:`j` را در نظر بگیرید به طوری از :math:`v_n` به :math:`v_j` یال باشد(به عبارتی سمت چپ ترین راس از مسیر را در نظر می‌گیریم تا در حد امکان طول دور را کاهش دهیم).
حال دور رو به رو را در نظر بگیرید :
:math:`v_{j}, v_{j + 1}, ..., v_{n}, v_{j}`
ادعا می‌کنیم طول این دور حداقل برابر با :math:`k+1` است(چرا؟).


چند تعریف دیگر
--------------------------------------
**گراف قویا همبند  :** به گراف جهت دار :math:`G` یک گراف قویا همبند گوییم اگر به ازای هر دو راس مثل 
:math:`u`
و
:math:`v`
حداقل یک مسیر جهت دار از
:math:`u`
به
:math:`v`
وجود داشته باشد.

همانطور که میبینید گراف قویا همبند تعریفی ساده دارد. گراف های قویا همبند بسیار گراف های مهمی هستند. یک مثال ساده می‌تواند این باشد که اگر قرار باشد برای یک کشور جاده های یک‌طرفه بکشیم‌‌, طوری این کار را انجام دهیم که گرافی که شهر ها و جاده‌ها تشکیل می‌دهند یک گراف قویا همبند باشد!

باز هم اگر بخواهیم به شکل۲ نگاهی بیاندازیم, این گراف قویا همبند نیست! زیرا برای مثال از شهر سیب نمیتوان به شهر انار رفت!

**یک نتیجه مهم  :**
با تعریف گراف قویا همبند, می‌توان به سرعت یک نتیجه ساده گرفت و آن اینکه در یک گراف قویا همبند مثل :math:`G`, درجه ورودی و خروجی هر راس حداقل ۱ می‌باشد! بعد ها از این نتیجه به کرات استفاده خواهیم کرد!


